# GssExtract Download Catalog

This document catalogs files and repositories that download GssExtract data files from GitHub or other sources.

## Search Query

GitHub search: `owner:AllenDowney download GssExtract`

URL: https://github.com/search?q=owner%3AAllenDowney%20download%20GssExtract&type=code

## Output File Patterns

The following file patterns are generated by the GssExtract notebooks:

### Extract Files
- `gss_religion_{year}_r{release}.hdf` - Religion extract (8 columns)
- `gss_pacs_{year}_r{release}.hdf` - Full PACS extract (206 columns)
- `gss_extract_pacs_workshop_{year}_r{release}.hdf` - PACS workshop extract (29 columns)
- `gss_eds_{year}_r{release}.hdf` - EDS extract (204 columns)
- `gss_extract_{year}_r{release}.hdf` - Generic extract (215 columns)
- `gss_gun_control_{year}_r{release}.hdf` - Gun control extract (16 columns)

### Example Filenames
- `gss_religion_2024_r2.hdf`
- `gss_pacs_2022_r4.hdf`
- `gss_extract_pacs_workshop_2022_r4.hdf`
- `gss_eds_2024_r2.hdf`
- `gss_extract_2024_r2.hdf`
- `gss_gun_control_2024_r2.hdf`

## Files That Download GssExtract Data

### Summary

**Total repositories found:** 6
**Total files that download extracts:** 10+ (across multiple repositories)

**Files requiring updates:**
1. `GunControlGenerational/01_clean.ipynb` - Uses `gss_gun_control.hdf` (needs year/release)
2. `PoliticalAlignmentCaseStudy/01_clean.ipynb` - Uses `gss_pacs.hdf` and `gss_pacs_2022.hdf` (needs year/release)
3. `GssReligion/age_religion_2021.ipynb` - Uses `gss_religion.hdf` (needs year/release)
4. `SurveyDataPyMC` - Multiple files use `gss_extract_2022_4.hdf` (already has year/release, but may need update to newer version)
5. `SurveyDataPandas` - Uses `gss_extract_2022_4.hdf` (already has year/release, but may need update to newer version)

**URL Pattern:** All use `https://github.com/AllenDowney/GssExtract/raw/main/data/interim/{filename}.hdf`

**Files already using correct naming:**
- `SurveyDataPyMC` - Uses `gss_extract_2022_4.hdf` (correct format, may want newer version)
- `SurveyDataPandas` - Uses `gss_extract_2022_4.hdf` (correct format, may want newer version)

**Note:** The old filenames don't include year/release information. After consolidation, these should be updated to use the new naming convention: `{prefix}_{year}_r{release}.hdf`. Files already using the correct format may want to update to the latest version (e.g., `gss_extract_2024_r2.hdf`).

### Search Patterns to Look For

1. **Direct file downloads:**
   - `gss_religion_*.hdf`
   - `gss_pacs_*.hdf`
   - `gss_extract_pacs_workshop_*.hdf`
   - `gss_eds_*.hdf`
   - `gss_extract_*.hdf`
   - `gss_gun_control_*.hdf`

2. **GitHub raw URLs:**
   - `github.com/AllenDowney/GssExtract/raw/master/data/interim/`
   - `github.com/AllenDowney/GssExtract/raw/main/data/interim/`
   - `github.com/AllenDowney/GssExtract/blob/master/data/interim/`

3. **Download functions:**
   - `urllib.request.urlretrieve`
   - `requests.get`
   - `pd.read_hdf` with URLs
   - Custom `download()` functions

4. **Repository references:**
   - `GssExtract` in repository names
   - References to `data/interim/` directory

## Catalog Entries

*Note: The GitHub search at https://github.com/search?q=owner%3AAllenDowney%20download%20GssExtract&type=code requires authentication to view results. The catalog below will be populated as files are discovered.*

### Catalog Entries

#### Repository: GunControlGenerational
**URL:** https://github.com/AllenDowney/GunControlGenerational

**File:** `01_clean.ipynb`
- **Extract Type:** gun_control
- **Download Method:** `download()` function with GitHub raw URL
- **URL Pattern:** `https://github.com/AllenDowney/GssExtract/raw/main/data/interim/gss_gun_control.hdf`
- **Purpose:** Downloads gun control extract for cleaning and analysis
- **Also uses:** Local copy via `!cp /home/downey/GssExtract/data/interim/gss_gun_control.hdf .`
- **Status:** ⚠️ **Needs Update** - Uses old filename `gss_gun_control.hdf` (should be `gss_gun_control_{year}_r{release}.hdf`)

**File:** `gss_gun.ipynb`
- **Status:** Contains references to GssExtract (needs inspection)

---

#### Repository: PoliticalAlignmentCaseStudy
**URL:** https://github.com/AllenDowney/PoliticalAlignmentCaseStudy

**File:** `01_clean.ipynb`
- **Extract Type:** PACS
- **Download Method:** `download()` function with GitHub raw URL
- **URL Patterns:** 
  - `https://github.com/AllenDowney/GssExtract/raw/main/data/interim/gss_pacs.hdf`
  - `https://github.com/AllenDowney/GssExtract/raw/main/data/interim/gss_pacs_2022.hdf`
- **Purpose:** Downloads PACS extract for cleaning and analysis
- **Status:** ⚠️ **Needs Update** - Uses old filenames without release info (should be `gss_pacs_{year}_r{release}.hdf`)

**Other files with GssExtract references:**
- Multiple notebooks in `jb/`, `examples/`, and root directory reference GSS data
- These likely use cleaned data from `01_clean.ipynb` rather than downloading directly

---

#### Repository: GssReligion
**URL:** https://github.com/AllenDowney/GssReligion

**File:** `age_religion_2021.ipynb`
- **Extract Type:** religion
- **Download Method:** `download()` function with GitHub raw URL
- **URL Pattern:** `https://github.com/AllenDowney/GssExtract/raw/main/data/interim/gss_religion.hdf`
- **Purpose:** Downloads religion extract for age-religion analysis
- **Status:** ⚠️ **Needs Update** - Uses old filename `gss_religion.hdf` (should be `gss_religion_{year}_r{release}.hdf`)

**Other files with GssExtract references:**
- `gss_gun.ipynb` - Likely uses gun control extract
- `gss_penalty.ipynb` - May reference extracts
- `college_religion.ipynb` - May reference extracts

---

#### Repository: SurveyDataPyMC
**URL:** https://github.com/AllenDowney/SurveyDataPyMC

**Files that download extracts:**
- `soln/01_logistic_regression.ipynb`
- `soln/02_categorical_regression.ipynb`
- `soln/03_ordinal_regression.ipynb`
- `soln/04_hierarchical.ipynb`
- `notebooks/01_logistic_regression.ipynb`
- `notebooks/02_categorical_regression.ipynb`
- `notebooks/03_ordinal_regression.ipynb`
- `notebooks/04_hierarchical.ipynb`

**Extract Type:** generic
- **Download Method:** `download()` function with GitHub raw URL
- **URL Pattern:** `https://github.com/AllenDowney/GssExtract/raw/main/data/interim/gss_extract_2022_4.hdf`
- **Purpose:** Downloads generic extract for survey data analysis with PyMC
- **Note:** References `GssExtract/notebooks/02_make_extract-2022_4.ipynb` as source
- **Status:** ✅ **Has year/release** - Uses `gss_extract_2022_4.hdf` (already follows naming convention, but may want to update to newer version)

---

#### Repository: SurveyDataPandas
**URL:** https://github.com/AllenDowney/SurveyDataPandas

**Files that download extracts:**
- `notebooks/01_simpson.ipynb`
- `notebooks/test_notebook.ipynb`

**Extract Type:** generic
- **Download Method:** `download()` function with GitHub raw URL
- **URL Pattern:** `https://github.com/AllenDowney/GssExtract/raw/main/data/interim/gss_extract_2022_4.hdf`
- **Purpose:** Downloads generic extract for survey data analysis with Pandas
- **Note:** References `GssExtract/notebooks/02_make_extract-2022_4.ipynb` as source
- **Status:** ✅ **Has year/release** - Uses `gss_extract_2022_4.hdf` (already follows naming convention, but may want to update to newer version)

---

#### Repository: ElementsOfDataScienceSolutions
**URL:** https://github.com/AllenDowney/ElementsOfDataScienceSolutions

**File:** `clean_gss.ipynb`
- **Status:** Contains note that it's out of date, current version is in GssExtract repo
- **Note:** This file appears to be deprecated

**Other files with GssExtract references:**
- Multiple notebooks reference GSS data (likely use cleaned data rather than downloading directly)

---

For each file found, document:
- **Repository:** Repository name and URL
- **File Path:** Path to the file that downloads GssExtract data
- **Extract Type:** Which extract(s) it downloads (religion, PACS, EDS, generic, gun_control)
- **Download Method:** How it downloads (urllib, requests, pandas, etc.)
- **URL Pattern:** The URL pattern used
- **Purpose:** What the file uses the extract for
- **Last Updated:** When the file was last modified (if available)

---

## Example Entry Format

```markdown
### Repository: [Repository Name]
**URL:** https://github.com/AllenDowney/[repo-name]

#### File: [path/to/file.py]
- **Extract Type:** generic
- **Download Method:** `pd.read_hdf` with GitHub raw URL
- **URL Pattern:** `https://github.com/AllenDowney/GssExtract/raw/master/data/interim/gss_extract_2024_r2.hdf`
- **Purpose:** Loads generic extract for analysis
- **Last Updated:** [date if available]
```

---

*This catalog should be updated as files are discovered through GitHub searches or other means.*

